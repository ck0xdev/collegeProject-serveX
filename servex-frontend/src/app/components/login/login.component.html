<!-- src/app/components/login/login.component.html -->
<app-navbar></app-navbar>

<div class="blob blob-2"></div>

<div class="auth-container">
  <div class="glass-card auth-card">
    <div class="auth-header">
      <h2>Welcome Back</h2>
      <p>Sign in to your ServeX account</p>
    </div>

    <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
      <div class="form-group">
        <label for="email">Email Address</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="formData.email"
          placeholder="you@example.com"
          required
          email
          [disabled]="loading"
        />
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input
          type="password"
          id="password"
          name="password"
          [(ngModel)]="formData.password"
          placeholder="Enter your password"
          required
          [disabled]="loading"
        />
      </div>

      @if (errorMessage) {
        <div class="error-message">
          ⚠️ {{ errorMessage }}
        </div>
      }

      <button
        type="submit"
        class="btn-main btn-full"
        [disabled]="loading || !loginForm.valid"
      >
        @if (loading) {
          Signing In...
        } @else {
          Sign In
        }
      </button>
    </form>

    <div class="divider">
      <span>OR</span>
    </div>

    <button
      type="button"
      class="btn-google"
      (click)="signInWithGoogle()"
      [disabled]="loading"
    >
      <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg">
        <g fill="none" fill-rule="evenodd">
          <path d="M17.6 9.2l-.1-1.8H9v3.4h4.8C13.6 12 13 13 12 13.6v2.2h3a8.8 8.8 0 0 0 2.6-6.6z" fill="#4285F4"/>
          <path d="M9 18c2.4 0 4.5-.8 6-2.2l-3-2.2a5.4 5.4 0 0 1-8-2.9H1V13a9 9 0 0 0 8 5z" fill="#34A853"/>
          <path d="M4 10.7a5.4 5.4 0 0 1 0-3.4V5H1a9 9 0 0 0 0 8l3-2.3z" fill="#FBBC05"/>
          <path d="M9 3.6c1.3 0 2.5.4 3.4 1.3L15 2.3A9 9 0 0 0 1 5l3 2.4a5.4 5.4 0 0 1 5-3.7z" fill="#EA4335"/>
        </g>
      </svg>
      Continue with Google
    </button>

    <div class="auth-footer">
      <p>
        Don't have an account?
        <a routerLink="/register" class="link">Create Account</a>
      </p>
    </div>
  </div>
</div>